---
title: Vroeger en Nu
images:
    - /media/app/vroeger-nu.png
---
<!DOCTYPE html>
<html>
  <head>
    {% include layout-prelude.html %}
    <title>{{page.title}}</title>
    
    <!-- meta-data -->
    {% include meta.html %}
    
    <link rel="stylesheet" href="https://openlayers.org/en/v4.0.1/css/ol.css" type="text/css">
    <link rel="stylesheet" href="../css/bootstrap.css" type="text/css">
    <!-- The line below is only needed for old environments like Internet Explorer and Android 4.x -->
    <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=requestAnimationFrame,Element.prototype.classList,URL"></script>
    <script src="https://openlayers.org/en/v4.0.1/build/ol.js"></script>
    <script src="../js/jquery-2.1.3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.15/proj4.js"></script>

    <style>
      html, body, .map {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
      }
      .split {
        float: left;
        margin: 0;
        padding: 0;
      }
      .split.vertical {
        width: 50%;
        height: 100%;
      }
      .split.vertical:first-child {
        border-right: 5px solid #222;
      }
      .split.horizontal {
        width: 100%;
        height: 50%;
      }
      .split.horizontal:first-child {
        border-bottom: 5px solid #222;
      }
      .menu {
        position: absolute;
        padding: 0.5em;
        width: 100%;
        background: #222;
        color: #ffeecf;
        border-color: #111;
      }
      .menu .btn {
        color: #222;
        margin-left: 2px;
      }
      .menu .btn:hover {
        font-weight: bold;
      }
      .menu img.logo {
        height: 2.2em;
        cursor: pointer;
        cursor: hand;
      }
      .floater {
          display: none;
          position: absolute;
          width: 280px;
          top: 3em;
          right: 2px;
          background: #222;
          overflow: hidden;
          margin: 2px;
          border: 2px solid #ffeecf;
          padding: 1em;
          border-radius: 3px;
      }
    </style>
  </head>
  <body>
    <div class="split vertical">
      <div id="oldMap" class="map"></div>
    </div>
    <div class="split vertical">
      <div id="newMap" class="map"></div>
    </div>
    <div class="menu navbar navbar-inverse">
      <button id="close" class="pull-right btn "><span class="glyphicon glyphicon-remove"></span></button>
      <div id="confDiv" class="floater">
        <form class="form-inline">
          <div class="form-group">
            <div class="btn-group" role="group" aria-label="...">
              <button class="btn" id="horizontal">
                <span class="glyphicon glyphicon-resize-vertical"></span>
              </button>
              <button class="btn active" id="vertical">
                <span class="glyphicon glyphicon-resize-horizontal"></span>
              </button>
            </div><br>
            <div class="input-group">
              <div class="input-group-addon"><span class="glyphicon glyphicon-chevron-left"></span></div>
              <select class="form-control" id="oldsel"></select>
            </div><br>
            <div class="input-group">
              <div class="input-group-addon"><span class="glyphicon glyphicon-chevron-right"></span></div>
              <select class="form-control" id="newsel"></select>
            </div>
          </div>
        </form>
      </div>
      <button id="config" class="pull-right btn "><span class="glyphicon glyphicon-cog"></span></button>
      <button id="info" class="pull-right btn "><span class="glyphicon glyphicon-info-sign"></span></button>
      <div id="infoDiv" class="floater">
        <h4><span class="glyphicon glyphicon-info-sign"></span> Info</h4>
        <div>
          De kaartlagen in deze applicatie worden publiek beschikbaar gesteld door de Vlaamse Gemeenschap en de Provincie West Vlaanderen.
          <hr>
          Les couches de carte dans cette application seront rendus publics par la Communauté flamande et la province de Flandre occidentale.
          <hr>
          Die Kartenschichten in dieser Anwendung werden von der Flämischen Gemeinschaft und der Provinz Westflandern öffentlich zugänglich gemacht werden.
          <hr>
          <a href="http://geopunt.be" target="_blank">geopunt.be (VL)</a> - 
          <a href="http://giswest.be" target="_blank">giswest.be (WVL)</a>
        </div>
      </div>
      <div><img id="recenter" class="logo" src="../img/svg/logo/logo_veldenduin.svg"></div>
    </div>
    
    
    <script>
    "use strict";
    // ------------ PROJ4 DEFINITION
    proj4.defs("EPSG:31370", "+proj=lcc +lat_1=51.16666723333333 +lat_2=49.8333339 " +
               "+lat_0=90 +lon_0=4.367486666666666 +x_0=150000.013 +y_0=5400088.438 " +
               "ellps=intl +towgs84=106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1 "+
               "units=m +no_defs");
    // ------------ VAR DECLARATION
    var layerSets, view, maps = {}, geovdcenter = ol.proj.fromLonLat([2.97913, 51.25077]), spiltStyle = 'horizontal';

    function LayerSets() {
        this.layers = {'new': [], 'old': []};
        this.nameToIndex = {};
        this.names = [];
        this.titles = [];
        this.selection = {'new': null, 'old': null};
    }
    LayerSets.prototype.getSet = function (setName) {
        return this.layers[setName];
    }
    LayerSets.prototype.select = function (setName, layerName) {
         this.selection[setName] = layerName;
         var visibleIndex = this.nameToIndex[layerName];
         this.getSet(setName).forEach(function (lyr, ndx) {
             lyr.setVisible(ndx === visibleIndex);
         });
    }
    LayerSets.prototype.addLayer = function (layerName, layerOptions) {
        this.nameToIndex[layerName] = this.layers.old.length;
        this.names.push(layerName);
        this.titles.push(layerOptions.title);
        layerOptions.visible = false;
        this.layers.old.push(new ol.layer.Tile(layerOptions));
        this.layers.new.push(new ol.layer.Tile(layerOptions));
    }
    layerSets = new LayerSets();
    

    // ------------ LAYERDEFS

    //QGIS(frickx1774): crs=EPSG:31370&dpiMode=7&format=image/png&layers=frickx&styles=&url=http://geoservices.informatievlaanderen.be/raadpleegdiensten/histcart/wms?
    layerSets.addLayer('frickx1774', {
        title: "Frickx 1774",
        source: new ol.source.TileWMS({
            url: 'http://geoservices.informatievlaanderen.be/raadpleegdiensten/histcart/wms',
            params: {'LAYERS': 'frickx'},
        })
    });

    //QGIS(ferraris1777): crs=EPSG:31370&dpiMode=7&format=image/png&layers=ferraris&styles=&url=http://geoservices.informatievlaanderen.be/raadpleegdiensten/histcart/wms?
    layerSets.addLayer('ferraris1777', {
        title: "Ferraris 1777",
        source: new ol.source.TileWMS({
            url: 'http://geoservices.informatievlaanderen.be/raadpleegdiensten/histcart/wms',
            params: {'LAYERS': 'ferraris'},
        })
    });

    //QGIS(popp1842_79): crs=EPSG:31370&dpiMode=7&format=image/png&layers=popp&styles=&url=http://geoservices.informatievlaanderen.be/raadpleegdiensten/histcart/wms? 
    layerSets.addLayer('popp1842_79', {
        title: "Popp 1842-1879", 
        source: new ol.source.TileWMS({
            url: 'http://geoservices.informatievlaanderen.be/raadpleegdiensten/histcart/wms',
            params: {'LAYERS': 'popp'},
        })
    });

    //QGIS(topo_vdm_1846_54): crs=EPSG:31370&dpiMode=7&format=image/png&layers=vandermaelen&styles=&url=http://geoservices.informatievlaanderen.be/raadpleegdiensten/histcart/wms? 
    layerSets.addLayer('topo_vdm_1846_54', {
        title: "Vandermaelen 1846-1854",
        source: new ol.source.TileWMS({
            url: 'http://geoservices.informatievlaanderen.be/raadpleegdiensten/histcart/wms',
            params: {'LAYERS': 'vandermaelen'},
        })
    });

    //QGIS(topo1950_70): crs=EPSG:31370&dpiMode=7&format=image/png&layers=moww&styles=&url=http://geoservices.informatievlaanderen.be/raadpleegdiensten/histcart/wms?
    layerSets.addLayer('topo1950_70', {
        title: "Topografisch Min. Openbare Werken 1950-1970",
        source: new ol.source.TileWMS({
            url: 'http://geoservices.informatievlaanderen.be/raadpleegdiensten/histcart/wms',
            params: {'LAYERS': 'moww'},
        })
    });

    //QGIS(air1971): contextualWMSLegend=0&crs=EPSG:31370&dpiMode=7&featureCount=10&format=image/jpeg&layers=OKZPAN71VL&styles=&url=http://geoservices.informatievlaanderen.be/raadpleegdiensten/OKZ/wms?
    layerSets.addLayer('air1971', {
        title: "Luchtfoto's VL 1971",
        source: new ol.source.TileWMS({
            url: 'http://geoservices.informatievlaanderen.be/raadpleegdiensten/OKZ/wms',
            params: {'LAYERS': 'OKZPAN71VL'},
        })
    });

    //QGIS(air1979_90): contextualWMSLegend=0&crs=EPSG:31370&dpiMode=7&featureCount=10&format=image/jpeg&layers=OKZRGB79_90VL&styles=&url=http://geoservices.informatievlaanderen.be/raadpleegdiensten/OKZ/wms? 
    layerSets.addLayer('air1979_90', {
        title: "Luchtfoto's VL 1979-1990",
        source: new ol.source.TileWMS({
            url: 'http://geoservices.informatievlaanderen.be/raadpleegdiensten/OKZ/wms',
            params: {'LAYERS': 'OKZRGB79_90VL'},
        })
    });

    //QGIS(air1990): crs='EPSG:31370' format='PNG32' layer='9' url='http://www.geoloket.be/gwserver/rest/services/AGS_Orthofoto/MapServer' table="" sql= 
    layerSets.addLayer('air1990', {
        title: "Luchtfoto's WVL 1990",
        source: new ol.source.TileArcGISRest({
            url: 'http://www.geoloket.be/gwserver/rest/services/AGS_Orthofoto/MapServer',
            params: {LAYERS: 'show:9'}
        })
    });

    //QGIS(air1995): crs='EPSG:31370' format='PNG32' layer='8' url='http://www.geoloket.be/gwserver/rest/services/AGS_Orthofoto/MapServer' table="" sql= 
    layerSets.addLayer('air1995', {
        title: "Luchtfoto's WVL 1995",
        source: new ol.source.TileArcGISRest({
            url: 'http://www.geoloket.be/gwserver/rest/services/AGS_Orthofoto/MapServer',
            params: {LAYERS: 'show:8'}
        })
    });

    //QGIS(air2000): crs='EPSG:31370' format='PNG32' layer='7' url='http://www.geoloket.be/gwserver/rest/services/AGS_Orthofoto/MapServer' table="" sql=
    layerSets.addLayer('air2000', {
        title: "Luchtfoto's WVL 2000",
        source: new ol.source.TileArcGISRest({
            url: 'http://www.geoloket.be/gwserver/rest/services/AGS_Orthofoto/MapServer',
            params: {LAYERS: 'show:7'}
        })
    });

    //QGIS(air2005): crs='EPSG:31370' format='PNG32' layer='6' url='http://www.geoloket.be/gwserver/rest/services/AGS_Orthofoto/MapServer' table="" sql= 
    layerSets.addLayer('air2005', {
        title: "Luchtfoto's WVL 2005",
        source: new ol.source.TileArcGISRest({
            url: 'http://www.geoloket.be/gwserver/rest/services/AGS_Orthofoto/MapServer',
            params: {LAYERS: 'show:6'}
        })
    });

    //QGIS(air2009): crs='EPSG:31370' format='PNG32' layer='5' url='http://www.geoloket.be/gwserver/rest/services/AGS_Orthofoto/MapServer' table="" sql= 
    layerSets.addLayer('air2009', {
        title: "Luchtfoto's WVL 2009",
        source: new ol.source.TileArcGISRest({
            url: 'http://www.geoloket.be/gwserver/rest/services/AGS_Orthofoto/MapServer',
            params: {LAYERS: 'show:5'}
        })
    });

    //QGIS(air2012): crs='EPSG:31370' format='PNG32' layer='4' url='http://www.geoloket.be/gwserver/rest/services/AGS_Orthofoto/MapServer' table="" sql=
    layerSets.addLayer('air2012', {
        title: "Luchtfoto's WVL 2012",
        source: new ol.source.TileArcGISRest({
            url: 'http://www.geoloket.be/gwserver/rest/services/AGS_Orthofoto/MapServer',
            params: {LAYERS: 'show:4'}
        })
    });

    //QGIS(air2013): crs='EPSG:31370' format='PNG32' layer='3' url='http://www.geoloket.be/gwserver/rest/services/AGS_Orthofoto/MapServer' table="" sql=
    layerSets.addLayer('air2013', {
        title: "Luchtfoto's WVL 2013",
        source: new ol.source.TileArcGISRest({
            url: 'http://www.geoloket.be/gwserver/rest/services/AGS_Orthofoto/MapServer',
            params: {LAYERS: 'show:3'}
        })
    });

    //QGIS(air2014): crs='EPSG:31370' format='PNG32' layer='2' url='http://www.geoloket.be/gwserver/rest/services/AGS_Orthofoto/MapServer' table="" sql= 
    layerSets.addLayer('air2014', {
        title: "Luchtfoto's WVL 2014",
        source: new ol.source.TileArcGISRest({
            url: 'http://www.geoloket.be/gwserver/rest/services/AGS_Orthofoto/MapServer',
            params: {LAYERS: 'show:2'}
        })
    });

    //QGIS(air2015): crs='EPSG:31370' format='PNG32' layer='1' url='http://www.geoloket.be/gwserver/rest/services/AGS_Orthofoto/MapServer' table="" sql=
    layerSets.addLayer('air2015', {
        title: "Luchtfoto's WVL 2015", 
        source: new ol.source.TileArcGISRest({
            url: 'http://www.geoloket.be/gwserver/rest/services/AGS_Orthofoto/MapServer',
            params: {LAYERS: 'show:1'}
        })
    });

    //QGIS(air2016): crs='EPSG:31370' format='PNG32' layer='0' url='http://www.geoloket.be/gwserver/rest/services/AGS_Orthofoto/MapServer' table="" sql=
    layerSets.addLayer('air2016', {
        title: "Luchtfoto's WVL 2016",
        source: new ol.source.TileArcGISRest({
            url: 'http://www.geoloket.be/gwserver/rest/services/AGS_Orthofoto/MapServer',
            params: {LAYERS: 'show:0'}
        })
    });

    layerSets.select('old', 'air1971');
    layerSets.select('new', 'air2016');

    view = new ol.View({
        center: geovdcenter,
        zoom: 17
    });

    maps.old = new ol.Map({
      controls: [],
      target: 'oldMap',
      layers: layerSets.getSet('old'),
      view: view
    });

    maps.new = new ol.Map({
      controls: [],
      target: 'newMap',
      layers: layerSets.getSet('new'),
      view: view
    });

    $(function() {
        var $info, $infoDiv, infoshow,
            $conf, $confDiv, confshow, 
            $hori, $verti, $oldsel, $newsel, options,
            $close, $center;
        
        $center = $('#recenter');
        $center.click(function () {
            view.animate({duration: 5000, zoom: 17, center: geovdcenter});
        });
      
        $info = $('#info');
        $infoDiv = $('div#infoDiv');
        infoshow = false;
        $info.click(function () {
            $confDiv.slideUp(); confshow = false;
            if (infoshow === true) {
                $infoDiv.slideUp(500);
            } else {
                $infoDiv.slideDown(500);
            }
            infoshow = !(infoshow);
        });
      
        function setSplit( from, to, $from, $to ) {
            $('div.split').removeClass(from).addClass(to);
            $to.addClass('active');
            $from.removeClass('active');
            maps.old.updateSize();
            maps.new.updateSize();
            return false;
        }
        $hori = $('#horizontal');
        $verti = $('#vertical');
        $hori.click( function() {
            return setSplit('vertical', 'horizontal', $verti, $hori);
        });
        $verti.click( function() {
            return setSplit('horizontal', 'vertical', $hori, $verti);
        });
      
        $oldsel = $('#oldsel'); 
        $newsel = $('#newsel');
        options = layerSets.names.reduce(function (opts, name, ndx){
            return opts + '<option value="' + name + '">' + layerSets.titles[ndx] + '</option>'
        }, "");
        $oldsel.html(options).val('air1971').change(function () { layerSets.select('old', $oldsel.val()); });
        $newsel.html(options).val('air2016').change(function () { layerSets.select('new', $newsel.val()); });
      
        $conf = $('#config');
        $confDiv = $('div#confDiv');
        confshow = false;
        $conf.click(function () {
            $infoDiv.slideUp(); infoshow = false;
            if (confshow === true) {
                $confDiv.slideUp(500);
            } else {
                $confDiv.slideDown(500);
            }
            confshow = !(confshow);
        });
      
      
        $close = $('#close');
        $close.click(function () {
            window.history.back();
//            window.location.href = '../';
        });
      
    });
    </script>
    
{% include ga.html %}
  </body>
</html>